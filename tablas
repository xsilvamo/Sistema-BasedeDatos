--- TABLAS

CREATE TABLE tipo_estructura(
	id_tipo_estructura SERIAL PRIMARY KEY,
	tipo_estruc VARCHAR(100)
);

CREATE TABLE divisa (
    id_divisa SERIAL PRIMARY KEY,
    nom_divisa VARCHAR(100),
	valor INT
);

CREATE TABLE estructura_territorial (
    id_estructura INT PRIMARY KEY,
    nom_estructura varchar(100),
	impuesto INT,
	id_tipo_estructura INT,
	id_divisa INT,
	id_estructura_sup INT,
	FOREIGN KEY (id_tipo_estructura) REFERENCES tipo_estructura(id_tipo_estructura),
	FOREIGN KEY (id_divisa) REFERENCES divisa(id_divisa),
	FOREIGN KEY (id_estructura_sup) REFERENCES estructura_territorial(id_estructura)
);

CREATE TABLE causa_baja(
	id_baja SERIAL PRIMARY KEY,
	causa_baja VARCHAR(100)
); 

CREATE TABLE tipo_cedula(
	id_tipo_cedula SERIAL PRIMARY KEY,
	nom_tipo_cedula VARCHAR(100)
);

CREATE TABLE tipo_cliente(
	id_tipo_cliente SERIAL PRIMARY KEY,
	nom_tipo_cliente VARCHAR(100)
);

CREATE TABLE estado_cliente(
	id_estado_cli SERIAL PRIMARY KEY,
	estado_cli VARCHAR(100)
);

CREATE TABLE cliente(
	dni INT,
	id_cliente INT PRIMARY KEY,
	nombres VARCHAR(100),
	apellido_pat VARCHAR(100),
	apellido_mat VARCHAR(100),
	telefono VARCHAR(100),
	fecha_alta_cli DATE,
	fecha_baja_cli DATE,
	id_baja INT,
	id_tipo_cedula INT,
	id_tipo_cliente INT,
	id_estado_cli INT,
	FOREIGN KEY (id_baja) REFERENCES causa_baja(id_baja),
	FOREIGN KEY (id_tipo_cedula) REFERENCES tipo_cedula(id_tipo_cedula),
	FOREIGN KEY (id_tipo_cliente) REFERENCES tipo_cliente(id_tipo_cliente),
	FOREIGN KEY (id_estado_cli) REFERENCES estado_cliente(id_estado_cli)
);

CREATE TABLE estado_cuenta(
	id_estado_cuenta SERIAL PRIMARY KEY,
	estado_cuenta VARCHAR(100)
);

CREATE TABLE cuenta(
	id_cuenta INT PRIMARY KEY,
	direccion_cuenta VARCHAR(100),
	correo_elect VARCHAR(100),
	fecha_alta_cuenta DATE,
	fecha_baja_cuenta DATE,
	id_baja INT,
	id_estado_cuenta INT,
	id_cliente INT,
	FOREIGN KEY (id_baja) REFERENCES causa_baja(id_baja),
	FOREIGN KEY (id_estado_cuenta) REFERENCES estado_cuenta(id_estado_cuenta),
	FOREIGN KEY (id_cliente) REFERENCES cliente(id_cliente)
);
